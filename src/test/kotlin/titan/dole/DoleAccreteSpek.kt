package titan.dole

import org.amshove.kluent.`should equal`
import org.jetbrains.spek.api.Spek
import org.jetbrains.spek.api.dsl.given
import org.jetbrains.spek.api.dsl.it
import org.jetbrains.spek.api.dsl.on
import java.util.*
import kotlin.collections.ArrayList

object DoleAccreteSpek : Spek({
    val doleAccrete = DoleAccrete(Random(1))
    given("Accrete with a specific random seed") {
        val planets = doleAccrete.createSystem(Primary(mass = 1.0, age = 5e9))
        on("should generate planets") {
            val actual: List<Planet> = planets
            it("that are consistent") {
                println(actual.joinToString(separator = ",\n"))
                val expected = ArrayList(listOf(
                        Planet(rMin=0.3898805508481271, rMax=0.4462271263500991, reach=0.013361810311308796, a=0.4180538385991131, e=0.035429593205769994, mass=1.0435969459524185E-6, isGasGiant=false, dustMass=1.0435966699251732E-6, gasMass=2.7602724529162587E-13, radius=4279.3915445803395, density=5.985287782382067, orbitalPeriod=0.270301417534515, day=17.51348752042154, escapeVelocity=8.004958772097767, surfaceGravity=7.15618409329253, highTemperature=433.51600775599684, lowTemperature=433.51600775599684),
                        Planet(rMin=0.6559160441613989, rMax=0.7142323892429125, reach=0.027575727757724235, a=0.6850742167021557, e=0.0023098881032924123, mass=2.6251769368451725E-6, isGasGiant=false, dustMass=2.6251750607415973E-6, gasMass=1.8761035752855935E-12, radius=5834.074037481957, density=5.936587968712202, orbitalPeriod=0.5670305188574951, day=15.05392191115856, escapeVelocity=10.873692163049387, surfaceGravity=9.676611095851992, highTemperature=338.6510566005751, lowTemperature=338.6510566005751),
                        Planet(rMin=0.7296447608631255, rMax=0.8589868865804832, reach=0.01246670730909443, a=0.7943158237218043, e=0.0657224166893447, mass=6.087790332137616E-8, isGasGiant=false, dustMass=6.087790060307562E-8, gasMass=2.7183005455823264E-15, radius=1972.471896358159, density=3.5738444657753745, orbitalPeriod=0.707929192472547, day=33.422427782354745, escapeVelocity=2.8477911965047444, surfaceGravity=1.9695223584060442, highTemperature=314.50288901262246, lowTemperature=314.50288901262246),
                        Planet(rMin=0.9324086858084083, rMax=1.1056891846631693, reach=0.04550894269215848, a=1.0190489352357888, e=0.040362445131945535, mass=3.977485012973841E-6, isGasGiant=false, dustMass=3.9774793250457295E-6, gasMass=5.6879281121432954E-12, radius=6806.245762439517, density=5.66211648690758, orbitalPeriod=1.028709047127365, day=14.267910074875015, escapeVelocity=12.39179369635144, surfaceGravity=10.767152638828529, highTemperature=277.66665381910605, lowTemperature=277.66665381910605),
                        Planet(rMin=2.371990718896215, rMax=3.928786363684437, reach=0.3837043438350737, a=3.150388541290326, e=0.12528406365945582, mass=2.201030017468333E-4, isGasGiant=true, dustMass=4.886922676707507E-5, gasMass=1.7123377497975823E-4, radius=44689.75585742828, density=1.1006285949948154, orbitalPeriod=5.591729815498187, day=10.739910519330369, escapeVelocity=35.97432911943467, surfaceGravity=13.74241999109514, highTemperature=157.9207459609939, lowTemperature=157.9207459609939),
                        Planet(rMin=5.201420807676002, rMax=8.28027487601111, reach=1.032276805288771, a=6.740847841843556, e=0.07523537702937999, mass=5.502568880272031E-4, isGasGiant=true, dustMass=1.0002974778080474E-4, gasMass=4.502271402463984E-4, radius=54957.88188213661, density=1.4785791085648783, orbitalPeriod=17.50135951278832, day=8.35320050658208, escapeVelocity=51.29221601001598, surfaceGravity=22.70330037732462, highTemperature=107.96027554002482, lowTemperature=107.96027554002482),
                        Planet(rMin=15.236351888173221, rMax=19.849391570229482, reach=1.68616494668277, a=17.54287172920135, e=0.035362220275072465, mass=8.535609595130502E-5, isGasGiant=true, dustMass=2.3986204518962963E-5, gasMass=6.136989143234206E-5, radius=28416.748941221325, density=1.662419543457592, orbitalPeriod=73.47693498113875, day=10.966367168067041, escapeVelocity=28.094013591684735, surfaceGravity=13.198648691399145, highTemperature=66.92230677163232, lowTemperature=66.92230677163232),
                        Planet(rMin=22.090708055794213, rMax=23.694319026407417, reach=0.4061625455273876, a=22.892513541100815, e=0.017282634301772182, mass=9.942373812450484E-8, isGasGiant=false, dustMass=9.942373058843126E-8, gasMass=7.536073587075259E-15, radius=3010.2502722020463, density=1.639983134444642, orbitalPeriod=109.53179870832001, day=39.91301848522455, escapeVelocity=2.945964123123571, surfaceGravity=1.3792926735427447, highTemperature=58.583391002648774, lowTemperature=58.583391002648774),
                        Planet(rMin=26.339625198155108, rMax=30.324442823485047, reach=1.4962822041971942, a=28.332034010820077, e=0.017511153921328126, mass=7.779405393889115E-6, isGasGiant=true, dustMass=4.205170128091675E-6, gasMass=3.57423526579744E-6, radius=11747.10959172624, density=2.1504764382336763, orbitalPeriod=150.80530929695104, day=15.016318880995575, escapeVelocity=13.191415611408974, surfaceGravity=7.057975592713905, highTemperature=52.66018362265225, lowTemperature=52.66018362265225),
                        Planet(rMin=34.37024595950209, rMax=37.991995411274495, reach=0.8010176346273244, a=36.181120685388294, e=0.027911161183758137, mass=2.410878377965826E-7, isGasGiant=false, dustMass=2.4108778565548037E-7, gasMass=5.214110224316564E-14, radius=4047.989750451766, density=1.6339091311393803, orbitalPeriod=217.6321347464314, day=34.46741918099385, escapeVelocity=3.955957897123994, surfaceGravity=1.8479139639159872, highTemperature=46.59939078643489, lowTemperature=46.59939078643489),
                        Planet(rMin=39.051404862670275, rMax=47.74374429825969, reach=1.683242183121579, a=43.39757458046498, e=0.06136120648253501, mass=2.263213762588269E-6, isGasGiant=true, dustMass=1.7470019678502337E-6, gasMass=5.162117947380355E-7, radius=7878.14230137281, density=2.076617458077553, orbitalPeriod=285.8894882577006, day=18.67096208683527, escapeVelocity=8.688295612629064, surfaceGravity=4.570826800374113, highTemperature=42.54891766957178, lowTemperature=42.54891766957178)
                ))
                actual `should equal` expected
            }
        }
    }
})